<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script src="/cdn-cgi/apps/head/3cOPSgo5Omz84ycX7CvigfX4cpw.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-82213539-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-82213539-2');
    </script>
    <title>1 Introduction 2.0.0.BUILD-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <div class="navTitle">
        
        Micronaut
    </div>
    <div class="navLinks">
        <ul>
            <li>
                <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                    <a href="../guide/index.html" class="button">Table of contents</a>

                    <div id="nav-summary-childs" style="display:none;">
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/quickStart.html"><strong>2</strong><span>Quick Start</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/ioc.html"><strong>3</strong><span>Inversion of Control</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/config.html"><strong>4</strong><span>Application Configuration</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/aop.html"><strong>5</strong><span>Aspect Oriented Programming</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/httpServer.html"><strong>6</strong><span>The HTTP Server</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/httpClient.html"><strong>7</strong><span>The HTTP Client</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/cloud.html"><strong>8</strong><span>Cloud Native Features</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/serverlessFunctions.html"><strong>9</strong><span>Serverless Functions</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/messaging.html"><strong>10</strong><span>Message-Driven Microservices</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/commandLineApps.html"><strong>11</strong><span>Standalone Command Line Applications</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/configurations.html"><strong>12</strong><span>Configurations</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/languageSupport.html"><strong>13</strong><span>Language Support</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/management.html"><strong>14</strong><span>Management &amp; Monitoring</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/security.html"><strong>15</strong><span>Security</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/multitenancy.html"><strong>16</strong><span>Multi-Tenancy</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/cli.html"><strong>17</strong><span>Micronaut CLI</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/appendix.html"><strong>18</strong><span>Appendices</span></a>
                        </div>
                        
                    </div>
                </div>
            </li>
            <li class="separator selected">
                <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
            </li>
        </ul>
    </div>


</div>

<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/quickStart.html"><strong>2</strong><span>Quick Start</span> >></a></div>
                


                <div class="project">
                    <h1>1 Introduction</h1>

                    <p><strong>Version:</strong> 2.0.0.BUILD-SNAPSHOT</p>
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#whatsNew"><strong>1.1</strong><span>What's New?</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#upgrading"><strong>1.2</strong><span>Upgrading to Micronaut 2.x</span></a>
                    </div>
                    
                </div>
                

                
<h1 id="introduction"><a class="anchor" href="#introduction"></a>1 Introduction</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/introduction.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Micronaut is a modern, JVM-based, full stack Java framework designed for building modular, easily testable JVM applications with support for Java, Kotlin and the Groovy language.</p>
</div>
<div class="paragraph">
<p>Micronaut is developed by the creators of the Grails framework and takes inspiration from lessons learnt over the years building real-world applications from monoliths to microservices using Spring, Spring Boot and Grails.</p>
</div>
<div class="paragraph">
<p>Micronaut aims to provide all the tools necessary to build JVM applications including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dependency Injection and Inversion of Control (IoC)</p>
</li>
<li>
<p>Aspect Oriented Programming (AOP)</p>
</li>
<li>
<p>Sensible Defaults and Auto-Configuration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With Micronaut you can build Message-Driven Applications, Command Line Applications, HTTP Servers and more whilst for Microservices in particular Micronaut also provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Distributed Configuration</p>
</li>
<li>
<p>Service Discovery</p>
</li>
<li>
<p>HTTP Routing</p>
</li>
<li>
<p>Client-Side Load Balancing</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>At the same time Micronaut aims to avoid the downsides of frameworks like Spring, Spring Boot and Grails by providing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fast startup time</p>
</li>
<li>
<p>Reduced memory footprint</p>
</li>
<li>
<p>Minimal use of reflection</p>
</li>
<li>
<p>Minimal use of proxies</p>
</li>
<li>
<p>No runtime bytecode generation</p>
</li>
<li>
<p>Easy Unit Testing</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Historically, frameworks such as Spring and Grails were not designed to run in scenarios such as server-less functions, Android apps, or low memory-footprint microservices. In contrast, Micronaut is designed to be suitable for all of these scenarios.</p>
</div>
<div class="paragraph">
<p>This goal is achieved through the use of Java&#8217;s <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html">annotation processors</a>, which are usable on any JVM language that supports them, as well as an HTTP Server and Client built on <a href="https://netty.io/">Netty</a>. In order to provide a similar programming model to Spring and Grails, these annotation processors precompile the necessary metadata in order to perform DI, define AOP proxies and configure your application to run in a low-memory environment.</p>
</div>
<div class="paragraph">
<p>Many of the APIs within Micronaut are heavily inspired by Spring and Grails. This is by design, and aids in bringing developers up to speed quickly.</p>
</div>

<h2 id="whatsNew"><a class="anchor" href="#whatsNew"></a>1.1 What's New?</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/introduction/whatsNew.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Micronaut 2.0.0.BUILD-SNAPSHOT includes the following changes:</p>
</div>
<div class="sect2">
<h3 id="_core_features">Core Features</h3>
<div class="sect3">
<h4 id="_support_for_jdk_14">Support for JDK 14</h4>
<div class="paragraph">
<p>Micronaut has been updated to support JDK 14.</p>
</div>
</div>
<div class="sect3">
<h4 id="_groovy_3">Groovy 3</h4>
<div class="paragraph">
<p>Micronaut now supports applications written in Groovy 3.</p>
</div>
</div>
<div class="sect3">
<h4 id="_startup_performance_improvements">Startup Performance Improvements</h4>
<div class="paragraph">
<p>Startup time has been further improved in this release with typical startup time for a new application around 20% faster.</p>
</div>
</div>
<div class="sect3">
<h4 id="_improvements_to_bean_introspections">Improvements to Bean Introspections</h4>
<div class="paragraph">
<p>Bean introspections have been improved to support static creator methods, interfaces and enums. This means you can define a bean introspection on an interface with a private implementation such as:</p>
</div>
<div class="listingblock">
<div class="title">Introspections on interfaces</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.micronaut.core.annotation.Creator;

@io.micronaut.core.annotation.Introspected
interface Example {
    String getName();

    @Creator
    static Example create(String name) {
        return () -&gt; name;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_analyzing_the_injection_point">Support for Analyzing the Injection Point</h4>
<div class="paragraph">
<p>Micronaut&#8217;s Dependency Injection implementation has been improved such that you can now receive an <a href="../api/io/micronaut/inject/InjectionPoint.html">InjectionPoint</a> instance to any <a href="../api/io/micronaut/context/annotation/Factory.html">@Factory</a> method. This makes it possible to customize how the bean is created based on the annotation metadata at the point at which the bean is injected.</p>
</div>
<div class="paragraph">
<p>For example consider the following definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject @Client("http://foo.com") RxHttpClient client;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A factory method can receive the injection point and create a client based off of the value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Bean
protected DefaultHttpClient httpClient(InjectionPoint&lt;?&gt; injectionPoint) {
    String url = metadata.stringValue(Client.class).orElse(null);
    if (url != null) {
        return new DefaultHttpClient(url);
    } else {
        return new DefaultHttpClient();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_eager_initialization_of_beans">Support for Eager Initialization of Beans</h4>
<div class="paragraph">
<p>Eager initialization of beans is useful in certain cases, such as on AWS Lambda where more CPU resources are assigned to Lamdba construction than execution. Therefore as for Micronaut 2.0, you can specify whether you want to eager initialization configuration or all singletons using the <a href="../api/io/micronaut/context/ApplicationContextBuilder.html">ApplicationContextBuilder</a> interface:</p>
</div>
<div class="listingblock">
<div class="title">Enabling Eager Initialization</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Application {

    public static void main(String[] args) {
        Micronaut.build(args)
            .eagerInitSingletons(true) <i class="conum" data-value="1"></i><b>(1)</b>
            .mainClass(Application.class)
            .start();
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Setting eager init to true initializes all singletons</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is also possible to just eager init configuration using <code>eagerInitConfiguration</code> which will initialize all <a href="../api/io/micronaut/context/annotation/ConfigurationProperties.html">@ConfigurationProperties</a> beans.</p>
</div>
</div>
<div class="sect3">
<h4 id="_spot_bugs_instead_of_jsr_305_nullable_nonnull_annotations">Spot Bugs Instead of JSR-305 Nullable/NonNull Annotations</h4>
<div class="paragraph">
<p>In Micronaut 1.x the Google distributed JSR-305 annotations library (<code>com.google.code.findbugs:jsr305</code>) was used to specify <code>@Nullable</code> and <code>@NonNull</code> on interfaces of the Micronaut API using the annotations contained within the <code>javax.annotation</code> package.</p>
</div>
<div class="paragraph">
<p>Due to the fact that JSR-305 has been cancelled and that this dependency has potential licensing issues (by using the <code>javax</code> namespace) as well as problems with the cross packages on Java 9+ with the module system Micronaut 2.x switches to the <code>spotbugs-annotations</code> module provided by the <a href="https://spotbugs.github.io/">SpotBugs project</a>.</p>
</div>
<div class="paragraph">
<p>It is recommended users of Micronaut use this API instead (although the <code>javax.annotation.Nullable</code> and <code>javax.annotation.NotNull</code> annotations continue to be supported).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cli_features">CLI Features</h3>
<div class="sect3">
<h4 id="_new_native_cli">New Native CLI</h4>
<div class="paragraph">
<p>Micronaut&#8217;s <code>mn</code> command for the CLI has been rewritten in Micronaut itself and is now compiled into a native image <a href="https://github.com/micronaut-projects/micronaut-starter/releases/tag/v2.0.0.BUILD-SNAPSHOT">available on Linux, MacOS X and Windows</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_launch">Micronaut Launch</h4>
<div class="paragraph">
<p>Create Micronaut 2.0 applications without having the CLI installed using <code>curl</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ curl https://launch.micronaut.io/demo.zip -o demo.zip
$ unzip demo.zip -d demo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or by visiting <a href="https://launch.micronaut.io" class="bare">https://launch.micronaut.io</a> in your browser.</p>
</div>
<div class="paragraph">
<p>Run <code>curl <a href="https://launch.micronaut.io" class="bare">https://launch.micronaut.io</a></code> for more instructions on how to use the API or visit the <a href="https://launch.micronaut.io/swagger/views/swagger-ui/index.html">OpenAPI documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_diff_command">Diff Command</h4>
<div class="paragraph">
<p>Run <code>mn feature-diff --features=[FEATURE NAME]</code> from the root of another Micronaut project to create a diff of the changes that need to be applied to enable the feature. For example:</p>
</div>
<div class="listingblock">
<div class="title">Using <code>feature-diff</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mn feature-diff --features=azure-function
--- micronaut-cli.yml
+++ micronaut-cli.yml
@@ -3,4 +3,4 @@
 testFramework: junit
 sourceLanguage: java
 buildTool: gradle
-features: [app-name, application, gradle, http-client, java, junit, logback, netty-server, shade, yaml]
+features: [app-name, application, azure-function, azure-function-http, gradle, java, junit, logback, yaml]


--- host.json
+++ host.json
@@ -1,0 +1,7 @@
+{
+  "version": "2.0",
+  "extensionBundle": {
+    "id": "Microsoft.Azure.Functions.ExtensionBundle",
+    "version": "[1.*, 2.0.0)"
+  }
+}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_build_improvements">Build Improvements</h3>
<div class="sect3">
<h4 id="_new_maven_parent_pom">New Maven Parent POM</h4>
<div class="paragraph">
<p>Micronaut now provides a new parent POM that can be used in Maven projects to get setup quickly:</p>
</div>
<div class="listingblock">
<div class="title">Using the Maven Parent POM</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parent&gt;
    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;
    &lt;version&gt;${micronaut.version}&lt;/version&gt;
&lt;/parent&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_new_maven_plugin">New Maven Plugin</h4>
<div class="paragraph">
<p>The parent POM mentioned above includes a new Micronaut Maven Plugin that enables automatic application restart during development. Just run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ./mvnw mn:run</code></pre>
</div>
</div>
<div class="paragraph">
<p>Whenever you make a change to a class file the server will restart automatically.</p>
</div>
</div>
<div class="sect3">
<h4 id="_gradle_6_3_update">Gradle 6.3 Update</h4>
<div class="paragraph">
<p>For Gradle users who create new applications Gradle 6.3 is used which is compatible with JDK 14.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_http_features">HTTP Features</h3>
<div class="sect3">
<h4 id="_support_for_http_2">Support for HTTP/2</h4>
<div class="paragraph">
<p>Micronaut&#8217;s Netty-based HTTP client and server have been updated to support HTTP/2.</p>
</div>
<div class="paragraph">
<p>See the <a href="#http2Server">HTTP/2 documentation</a> for more information on how to enable support for HTTP/2.</p>
</div>
</div>
<div class="sect3">
<h4 id="_threading_model_and_event_loop_group_improvements">Threading Model and Event Loop Group Improvements</h4>
<div class="paragraph">
<p>Micronaut 2.0 uses a new shared default Netty <code>EventLoopGroup</code> for server worker threads and client request threads. This reduces context switching and improves resource utilization.</p>
</div>
<div class="paragraph">
<p>See the <a href="#clientConfiguration">HTTP Client Configuration</a> section for information on how to configure the default <code>EventLoopGroup</code> and add additional `EventLoopGroup&#8217;s that are configured per client.</p>
</div>
<div class="paragraph">
<p>In addition, as of Micronaut 2.0 all operations are by default executed on the <code>EventLoop</code> and users can optionally use the new <a href="../api/io/micronaut/scheduling/annotation/ExecuteOn.html">@ExecuteOn</a> annotation to specify a named executor to execute an operation on if required (for example to offload blocking operations such as interactions with JPA/JDBC to a specific thread pool).</p>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_code_requestbean_code">Support for <code>@RequestBean</code></h4>
<div class="paragraph">
<p>It is now possible to bind the properties of a POJO argument to a <code>@Controller</code> to request parameters, headers and so on using the <a href="../api/io/micronaut/http/annotation/RequestBean.html">@RequestBean</a> annotation.</p>
</div>
<div class="paragraph">
<p>Thanks to Github user <a href="https://github.com/asodja">asodja</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_servlet">Micronaut Servlet</h4>
<div class="paragraph">
<p>Micronaut now includes support for creating <a href="https://github.com/micronaut-projects/micronaut-servlet">Servlet applications</a> and users can use the command line to create an application that targets popular Servlet containers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mn create-app myapp --features jetty-server    # for Jetty
$ mn create-app myapp --features tomcat-server   # for Tomcat
$ mn create-app myapp --features undertow-server # for Undertow</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_improved_support_for_server_side_content_negotiation">Improved Support for Server-Side Content Negotiation</h4>
<div class="paragraph">
<p>Micronaut will now correctly handle the HTTP <code>Accept</code> header and pick the most appropriate route for the specified accepted media types using <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation">Server-Side Content Negotiation</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This also applies to <code>@Error</code> routes making it possible to send different error responses for different content types
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To add XML support use the <a href="https://github.com/micronaut-projects/micronaut-jackson-xml">Jackson XML</a> module
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_improved_support_for_cloud_foundry">Improved Support for Cloud Foundry</h4>
<div class="paragraph">
<p>Micronaut will now process the <code>VCAP_APPLICATION</code> and <code>VCAP_SERVICES</code> environment variables and treat them as property sources.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/fnonnenmacher">Fabian Nonnenmacher</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_http_client_improvements">HTTP Client Improvements</h4>
<div class="paragraph">
<p>It is no longer necessary to use <code>@Client(..)</code> to inject a default <a href="../api/io/micronaut/http/client/RxHttpClient.html">RxHttpClient</a> instance. You can now inject the default client simply with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject RxHttpClient client;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no host is provided at the time of a request, a <a href="../api/io/micronaut/http/client/exceptions/NoHostException.html">NoHostException</a> will be thrown.</p>
</div>
</div>
<div class="sect3">
<h4 id="_api_for_proxying_requests">API for Proxying Requests</h4>
<div class="paragraph">
<p>A new API for writing API gateways and proxying requests has been added. See the documentation on the <a href="#proxyClient">ProxyHttpClient</a> for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_serverless_improvements">Serverless Improvements</h3>
<div class="sect3">
<h4 id="_support_for_google_cloud_function">Support for Google Cloud Function</h4>
<div class="paragraph">
<p>You can now write Serverless functions that target Google Cloud Function using Micronaut. See the <a href="https://micronaut-projects.github.io/micronaut-gcp/2.0.x/guide/">Micronaut GCP</a> documentation and <a href="https://github.com/micronaut-projects/micronaut-gcp/tree/master/examples/hello-world-cloud-function">example application</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_microsoft_azure_function">Support for Microsoft Azure Function</h4>
<div class="paragraph">
<p>You can now write Serverless functions that target Microsoft Azure using Micronaut. See the <a href="https://micronaut-projects.github.io/micronaut-azure/1.0.x/guide/">Micronaut Azure</a> documentation and <a href="https://github.com/micronaut-projects/micronaut-azure/tree/master/examples/azure-functions-example">example application</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_improvements_to_micronaut_aws">Improvements to Micronaut AWS</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-aws/2.0.x/guide/#whatsNew">Micronaut AWS 2.0.0</a> includes a number of improvements to support for AWS Lambda and AWS in general including new client modules for AWS SDK 2.0, cold start improvements on Lambda and improvements to the support for Amazon Alexa.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_module_improvements">Module Improvements</h3>
<div class="paragraph">
<p>Micronaut is more modular than ever, with several components now available in separate modules and upgrades to those modules.</p>
</div>
<div class="sect3">
<h4 id="_micronaut_cache_2_0_0_upgrade">Micronaut Cache 2.0.0 Upgrade</h4>
<div class="paragraph">
<p>Caching has been moved into a separate module and out of <code>micronaut-runtime</code>. If you need caching (including the annotations within <code>io.micronaut.cache.annotation</code>) you just need to add the individual module for the cache provider you are interested (for example Caffeine, Redis, Hazelcast etc.).</p>
</div>
<div class="paragraph">
<p>See the documentation for the <a href="https://micronaut-projects.github.io/micronaut-cache/2.0.x/guide/">Cache module</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_sql_2_1_0_upgrade">Micronaut SQL 2.1.0 Upgrade</h4>
<div class="paragraph">
<p>Micronaut SQL has been improved to default to Micronaut transaction management (making Spring management optional) and includes <a href="https://micronaut-projects.github.io/micronaut-sql/2.0.x/guide/#jdbi">support for Jdbi</a> (Thanks to <a href="https://github.com/drmaas">Dan Maas</a> for this contribution).</p>
</div>
<div class="paragraph">
<p>In addition, support has been added for <a href="https://micronaut-projects.github.io/micronaut-sql/latest/guide/#jdbc">Oracle Universal Connection Pool</a>. Thanks to <a href="https://github.com/recursivecodes">Todd Sharp</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_security_2_0_0_upgrade">Micronaut Security 2.0.0 Upgrade</h4>
<div class="paragraph">
<p>The security module has seen many changes to improve the API and introduce new features to support a wider array of use cases.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://micronaut-projects.github.io/micronaut-security/2.0.x/guide">Security module</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_reactive_modules">New Reactive Modules</h4>
<div class="paragraph">
<p>Whilst RxJava 2 remains the default, individual modules for other reactive libraries have been added.</p>
</div>
<div class="paragraph">
<p>For RxJava 3:</p>
</div>
<div class="paragraph">
<p>        <div class="listingblock multi-language-sample">
<div class="title"></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="gradle">implementation(<span class="hljs-string">"io.micronaut.rxjava3:micronaut-rxjava3")</span></code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="maven">&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.rxjava3&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-rxjava3&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</p>
</div>
<div class="paragraph">
<p>For Reactor:</p>
</div>
<div class="paragraph">
<p>        <div class="listingblock multi-language-sample">
<div class="title"></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="gradle">implementation(<span class="hljs-string">"io.micronaut.reactor:micronaut-reactor")</span></code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="maven">&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.reactor&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-reactor&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</p>
</div>
<div class="paragraph">
<p>And legacy support for RxJava 1:</p>
</div>
<div class="paragraph">
<p>        <div class="listingblock multi-language-sample">
<div class="title"></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="gradle">implementation(<span class="hljs-string">"io.micronaut.rxjava1:micronaut-rxjava1")</span></code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="maven">&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.rxjava1&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-rxjava1&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</p>
</div>
<div class="paragraph">
<p>Included within the new RxJava 3 and Reactor modules are variants of <a href="../api/io/micronaut/http/client/RxHttpClient.html">RxHttpClient</a> called <code>Rx3HttpClient</code> and <code>ReactorHttpClient</code> respectively.</p>
</div>
<div class="paragraph">
<p>To use the RxJava 3 HTTP client add the following dependency:</p>
</div>
<div class="paragraph">
<p>        <div class="listingblock multi-language-sample">
<div class="title"></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="gradle">implementation(<span class="hljs-string">"io.micronaut.rxjava3:micronaut-rxjava3-http-client")</span></code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="maven">&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.rxjava3&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-rxjava3-http-client&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</p>
</div>
<div class="paragraph">
<p>To use the Reactor HTTP client add:</p>
</div>
<div class="paragraph">
<p>        <div class="listingblock multi-language-sample">
<div class="title"></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="gradle">implementation(<span class="hljs-string">"io.micronaut.rxjava3:micronaut-reactor-http-client")</span></code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="maven">&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.rxjava3&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-reactor-http-client&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_micronaut_nats_module">New Micronaut NATS module</h4>
<div class="paragraph">
<p>A new messaging module for <a href="https://nats.io">Nats.io</a> has been included in Micronaut core.</p>
</div>
<div class="paragraph">
<p>See the documentation for <a href="https://micronaut-projects.github.io/micronaut-nats/latest/guide/">Micronaut Nats</a> for more information.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/grimmjo">Joachim Grimm</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades">Module Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Micronaut Neo4j - <code>1.3.0</code> &#8594; <code>2.0.0</code></p>
</li>
<li>
<p>Micronaut Mongo - <code>1.3.0</code> &#8594; <code>2.0.0</code></p>
</li>
<li>
<p>Micronaut SQL - <code>1.3.0</code> &#8594; <code>2.2.1</code></p>
</li>
<li>
<p>Micronaut Cache - <code>1.2.0</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut AWS - <code>1.3.9</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut Security - <code>1.4.0</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut Micrometer - <code>1.3.1</code> &#8594; <code>2.0.0.RC2</code></p>
</li>
<li>
<p>Micronaut GCP - <code>1.1.0</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades">Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Hibernate <code>5.4.10.Final</code> &#8594; <code>5.4.16.Final</code></p>
</li>
<li>
<p>Groovy <code>2.5.8</code> &#8594; <code>3.0.3</code></p>
</li>
<li>
<p>Mongo Reactive Streams <code>1.13.0</code> &#8594; <code>4.0.2</code></p>
</li>
<li>
<p>Mongo Java Driver <code>3.12.0</code> &#8594; <code>4.0.2</code></p>
</li>
<li>
<p>Jaeger <code>1.0.0</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Jackson <code>2.10.3</code> &#8594; <code>2.11.0</code></p>
</li>
</ul>
</div>
</div>
</div>

<h2 id="upgrading"><a class="anchor" href="#upgrading"></a>1.2 Upgrading to Micronaut 2.x</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/introduction/upgrading.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>This section covers the steps required to upgrade a Micronaut 1.x application to Micronaut 2.x.</p>
</div>
<div class="sect2">
<h3 id="_thread_pool_selection_now_manual">Thread Pool Selection Now Manual</h3>
<div class="paragraph">
<p>If your application does blocking I/O such as communication via JDBC or JPA you should annotate all controllers that interact with these blocking resources with the <a href="../api/io/micronaut/scheduling/annotation/ExecuteOn.html">@ExecuteOn</a> annotation specifying either the default I/O thread pool or a thread pool that you configure an manage to deal with these blocking interactions. For example:</p>
</div>
<div class="listingblock multi-language-sample">
<div class="title">Using @ExecuteOn</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import io.micronaut.http.annotation.*;
import io.micronaut.scheduling.TaskExecutors;
import io.micronaut.scheduling.annotation.ExecuteOn;

@Controller("/executeOn/people")
public class PersonController {

    private final PersonService personService;

    PersonController(
            PersonService personService) {
        this.personService = personService;
    }

    @Get("/{name}")
    @ExecuteOn(TaskExecutors.IO) <b class="conum">(1)</b>
    Person byName(String name) {
        return personService.findByName(name);
    }
}</code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="title">Using @ExecuteOn</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">import io.micronaut.http.annotation.*
import io.micronaut.scheduling.TaskExecutors
import io.micronaut.scheduling.annotation.ExecuteOn

@Controller("/executeOn/people")
class PersonController {

    private final PersonService personService

    PersonController(
            PersonService personService) {
        this.personService = personService
    }

    @Get("/{name}")
    @ExecuteOn(TaskExecutors.IO) <b class="conum">(1)</b>
    Person byName(String name) {
        return personService.findByName(name)
    }
}</code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="title">Using @ExecuteOn</div>
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">import io.micronaut.http.annotation.*
import io.micronaut.scheduling.TaskExecutors
import io.micronaut.scheduling.annotation.ExecuteOn

@Controller("/executeOn/people")
class PersonController (private val personService: PersonService) {
    @Get("/{name}")
    @ExecuteOn(TaskExecutors.IO) <b class="conum">(1)</b>
    fun byName(name: String): Person {
        return personService.findByName(name)
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="../api/io/micronaut/scheduling/annotation/ExecuteOn.html">@ExecuteOn</a> annotation is used to execute the operation on the I/O thread pool</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you wish to return to the previous behaviour as defined in Micronaut 1.x you can set <code>micronaut.server.thread-selection</code> to <code>AUTO</code> in configuration.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_compilation_error_with_classes_in_code_io_micronaut_cache_code_package">Compilation Error with classes in <code>io.micronaut.cache</code> package</h3>
<div class="paragraph">
<p>If your application fails to compile due to missing classes in the <code>io.micronaut.cache</code> you need to add a dependency on a cache implementation, for example the default cache implementation was Caffeine and this can be restored with the following dependency:</p>
</div>
<div class="paragraph">
<p>        <div class="listingblock multi-language-sample">
<div class="title"></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="gradle">implementation(<span class="hljs-string">"io.micronaut.cache:micronaut-cache-caffeine")</span></code></pre>
</div>
</div>
<div class="listingblock multi-language-sample">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="maven">&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.cache&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-cache-caffeine&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</p>
</div>
</div>
<div class="sect2">
<h3 id="_compilation_error_with_classes_in_code_javax_annotation_code_package">Compilation Error with classes in <code>javax.annotation</code> package</h3>
<div class="paragraph">
<p>If you application fails to compile referencing classes in the <code>javax.annotation</code> package such as <code>@Nullable</code> and <code>@Nonnull</code> you should update your project to instead import <code>edu.umd.cs.findbugs.annotations</code> from Spot Bugs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_new_group_ids">New Group IDs</h3>
<div class="paragraph">
<p>Some dependencies have new Maven Group IDs so you may need to update your dependency. The following table summarizes changes to group IDs:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Updated Maven Group IDs</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Previous ID</th>
<th class="tableblock halign-left valign-top">New ID</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.configuration:micronaut-kafka</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.kafka:micronaut-kafka</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.configuration:micronaut-redis</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.redis:micronaut-redis</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.configuration:micronaut-mongo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.mongodb:micronaut-mongo-reactive</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.configuration:micronaut-cassandra</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.cassandra:micronaut-cassandra</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.configuration:micronaut-hibernate-validator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.beanvalidation:micronaut-hibernate-validator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.configuration:micronaut-micrometer-*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.micrometer:micronaut-micrometer-*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.configuration:micronaut-aws-common</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.aws:micronaut-aws-common</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_aws_module_changes">AWS Module Changes</h3>
<div class="paragraph">
<p>The AWS functionality (including support for AWS ParameterStore, AWS Route53 and AWS Lambda Function Client) has been moved out of the Micronaut core therefore if you need AWS related functionality you should use the necessary module.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Updated AWS Modules</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Package</th>
<th class="tableblock halign-left valign-top">New Dependency</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.function.client.aws</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.aws:micronaut-function-client-aws</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.discovery.aws.parameterstore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.aws:micronaut-aws-parameter-store</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.discovery.aws.route53</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.aws:micronaut-aws-route53</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_other_breaking_changes">Other Breaking Changes</h3>
<div class="paragraph">
<p>If the above cases don&#8217;t cover your use case see the section on <a href="#breaks">Breaking Changes</a> for a list of other changes that are regarded as breaking in this release.</p>
</div>
</div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item next-right"><a href="../guide/quickStart.html"><strong>2</strong><span>Quick Start</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
